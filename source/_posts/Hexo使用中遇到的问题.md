---
title: Hexo使用中遇到的问题
date: 2020-08-07 16:56:05
tags:
---

### 目录介绍
+ `\.deploy_git`

`deploy`意为部署，所以这个目录下的文件就是最后部署到`github`的文件，里面包含生成的`html`页面，以及样式、图片、js等，在执行`hexo d`会将`public`中的文件同步到这个文件夹，然后`.deploy_git`内的文件会被上传到`git`的`master`分支下，这都是在`hexo`配置文件下的`deploy`中配置好的

<!--more-->

+ `\source`

这个文件夹下的`_posts`存放的是我们博客源文件，格式为`.md`,在执行`hexo new 我的博客`后就会在这个目录下生成`我的博客.md`

这里以`next`主题为例：

+ `\public`

这是缓存目录，执行`hexo g`后会生成，`hexo server`启动本地预览就是使用的这里面的文件，`.deploy_git`内的文件就是在执行`hexo d`后从`public`中同步过去的

+ `\themes\next\languages\zh-CN.yml`

这里面可以设置页面上所有固定文本，比如`首页`、`归档`、`分类`等，你可以自己修改

+ `\themes\next\source\css`

这里面是主题的所有css样式，是分模块的，如果你想修改，可以通过控制台，查看类名或者`ID`,判断元素属于哪个模块，然后在这个文件夹下找到对应的模块的`.styl`文件进行样式修改

+ `\themes\next\source\images`

这里面存放的是页面上静态的图标图片等文件，你可以换成自己的，但是名字也要改一下，否则就会找不到

### 修改样式后本地调试可以，部署后失效

我在修改了主题样式后，本地启动服务预览没问题，但是部署到`github`后失效，我查看了`\.deploy_git\css\main.css`，因为这个样式是最后`hexo d`后生成的`html`页面引用的样式，这里没改过来，当然部署后没效果

后来找到了原因，是因为我修改样式后没有使用`hexo clean`清除缓存，`\public`文件夹就是缓存文件，我执行`hexo g`后就会生成这个文件夹，
这个文件夹的结构目录和`\.deploy_git`文件夹是一模一样的。

正确的操作是，修改完主题样式`.styl`文件后，依次执行`hexo clean`、`hexo g`、`hexo d`

### hexo d部署博客报错

我在部署时遇到这样的问题，最后发现是`node`版本问题，因为我重装了系统，安装的是最新的版本，所以报错，我使用`nvm`实现了多版本`node`管理，安装了`12`版本的`node`,问题解决，如果想知道`nvm`的安装和使用，可以看我的博客

